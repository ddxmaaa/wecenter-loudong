!function(e){e.autocomplete=function(){var t,a,n,l,o=0,i={UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9,BACK:8,DEL:46,F5:116},c="ac"+(new Date-0)+"_",u="",s=null,d=null,r=!1,v=!1,m=!1,f=function(){return u},h=function(e){var t=[];return e.indexOf("_")>-1&&(t=e.split("_")),2==t.length?t[1]:""},p=function(t){var a=n.getElementsByTagName("li"),o=a.length,i=l.getAttribute("id"),u=parseInt(h(i)),s=c+(u+t+o)%o;l.className="",e(s).className="hover",l=e(s),g((u+t+o)%o)},g=function(e){var t=8;window.setTimeout(function(){n.scrollTop=e>t?20*(e-t):0},0)},T=function(){if(l){var t=l.getAttribute("_value");1==o?a.innerHTML=e.html.encode(t):a.value=t,"function"==typeof s&&s()}},N=function(){var t=function(e){1==o&&e.preventDefault(),e.stopPropagation();var t=e.keyCode;switch(t){case i.UP:p(-1);break;case i.DOWN:p(1);break;case i.ENTER:T(),k(),e.preventDefault(),e.stopPropagation();break;case i.TAB:T(),k(),m&&e.preventDefault()}},c=function(e){var t=e.keyCode;t!=i.UP&&t!=i.DOWN&&t!=i.ENTER&&t!=i.TAB&&t!=i.F5?"function"==typeof d&&d(this.value):t==i.ENTER&&e.preventDefault()},u=function(e){2==o&&T()},s=function(e){var t=e.target;"li"==t.tagName.toLowerCase()&&(l&&(l.className=""),t.className="hover",l=t,e.stopPropagation())},r=function(e){e.stopPropagation();var t=e.target;"li"==t.tagName.toLowerCase()&&(l=t,T(),k())},f=function(t){e.css.hasClass(n,"hide")?e.css.removeClass(n,"hide"):e.css.addClass(n,"hide"),v&&a.value&&a.select(),t.stopPropagation()},h=function(){k()};e.e.add(a,"keydown",t),e.e.add(a,"keyup",c),e.e.add(a,"blur",u),e.e.add(n,"mousemove",s),e.e.add(n,"click",r),e.e.add(document,"click",h),0!=o&&e.e.add(a,"click",f)},b=function(t){e.css.removeClass(n,"hide");var o=t.length,i=[];if(0==o)return void k();for(var u=0;o>u;u++){var s=c+u;a.value==t[u].value&&k(),i.push(0==u?'<li  class="hover" id='+s+' _value="'+e.html.encode(t[u].value+"")+'" >'+e.html.encode(t[u].name+"")+"</li>":r&&/00886$/.test(t[u].value)&&!a.value?'<li style="border-bottom:1px solid #ccc;" id='+s+' _value="'+e.html.encode(t[u].value+"")+'" >'+e.html.encode(t[u].name+"")+"</li>":"<li id="+s+' _value="'+e.html.encode(t[u].value+"")+'" >'+e.html.encode(t[u].name+"")+"</li>")}n.innerHTML=i.join(" "),l=n.getElementsByTagName("li")[0],g(0)},E=function(t,a){var o=t.length,i=[],u=0;if(0!=o){for(var s=0;o>s;s++){var d=c+s;i.push(r&&/00886$/.test(t[s].value)?'<li style="border-bottom:1px solid #ccc;" id='+d+' _value="'+e.html.encode(t[s].value+"")+'" >'+e.html.encode(t[s].name+"")+"</li>":"<li id="+d+' _value="'+e.html.encode(t[s].value+"")+'" >'+e.html.encode(t[s].name+"")+"</li>"),a&&new RegExp(a+"$").test(t[s].value)&&(u=s)}n.innerHTML=i.join(" "),l=n.getElementsByTagName("li")[u],l.className="hover",g(u)}},k=function(){e.css.addClass(n,"hide")},C=function(t){1==o?a.innerHTML=e.html.encode(t.name):a.value=t.name},y=function(e){t=e.domAppendTo,a=e.domInput,o=e.comboxModel?e.comboxModel:0,s=e.changeCallback,d=e.keyupCallback,r=e.needLine,v=e.inputSelect,m=e.preventTabDefault,n=document.createElement("ul"),n.className="combox-list hide",t.appendChild(n),N()};return{init:y,initList:E,setDefaultValue:C,getSelectValue:f,show:b,hide:k}}}($);
//# sourceMappingURL=autocomplete.js.map